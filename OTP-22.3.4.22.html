---
layout: patch
erlang_download_readme: https://erlang.org/download/OTP-22.3.4.22.README
html: https://github.com/erlang/otp/releases/download/OTP-22.3.4.22/otp_doc_html_22.3.4.22.tar.gz
html_url: https://github.com/erlang/otp/releases/tag/OTP-22.3.4.22
man: https://github.com/erlang/otp/releases/download/OTP-22.3.4.22/otp_doc_man_22.3.4.22.tar.gz
name: 22.3.4.22
published_at: 2021-10-19T08:32:56Z
readme: https://github.com/erlang/otp/releases/download/OTP-22.3.4.22/OTP-22.3.4.22.README
release: 22
src: https://github.com/erlang/otp/releases/download/OTP-22.3.4.22/otp_src_22.3.4.22.tar.gz
tag_name: OTP-22.3.4.22
Applications:
  erts-10.7.2.14:
    pre: "Note! The erts-10.7.2.14 application *cannot* be applied\n       independently of other applications on an arbitrary OTP 22\n       installation.\n\n       On a full OTP 22 installation, also the following runtime\n       dependency has to be satisfied:\n       -- kernel-6.5.1 (first satisfied in OTP 22.2)"
    post: "Full runtime dependencies of erts-10.7.2.14: kernel-6.5.1, sasl-3.3,\n stdlib-3.5"
    tickets:
      OTP-17604:
        release_note: "On 32-bit computers, binary_to_term/1,2 is now more resilient against corrupted binaries containing maps in the external format.\n\n"
        type: " --- Fixed Bugs and Malfunctions ---"
        Applications: "erts"
      OTP-17628:
        release_note: "A call to process_info(Pid, status) could erroneously report the status running when it should have reported waiting. This occurred when the calling process was executing on a higher priority than the process being inspected. This bug has been present since OTP 21.0 (erts version 10.0).\n\n"
        type: " --- Fixed Bugs and Malfunctions ---"
        Applications: "erts"
      OTP-17642:
        release_note: "A race between an exiting port and handling of simultaneously received signals to that port could cause a runtime system crash. The effected signals are link, monitor and demonitor. On OTP 22 a similiar race could also cause a memory leak when receiving an unlink signal.\n\n"
        type: " --- Fixed Bugs and Malfunctions ---"
        Applications: "erts"
        RelatedIds: "PR-5248"
      OTP-17651:
        release_note: "The message queue of a process entered an inconsistent state after a receive expression with an invalid timeout value was executed. If the exception raised due to the invalid timeout value was caught, the following receive expression executed by the process could fail to match messages already present in the message queue.\n\nOn OTP 24 this could also cause the whole runtime system to crash.\n\n"
        type: " --- Fixed Bugs and Malfunctions ---"
        Applications: "erts"
        RelatedIds: "GH-5235, PR-5244"
      OTP-17665:
        release_note: "Sending a Port ! {PortOwner, close} signal from a process other than the port owner could erroneously trigger a badsig exit signal being sent to the port owner process even though the correct PortOwner had been passed in the signal.\n\n"
        type: " --- Fixed Bugs and Malfunctions ---"
        Applications: "erts"
        RelatedIds: "PR-5248"
      OTP-17677:
        release_note: "This fixes a bug in erts_factory_undo that caused the heap to not be reset correctly. The erts_factory_undo function is, for example, called when a binary_to_term/1 call fails to reset the heap to its state before the binary_to_term/1 call. This can cause the heap to contain invalid terms which potentially can cause issues (e.g., crashes) when the whole heap is scanned.\n\n"
        type: " --- Fixed Bugs and Malfunctions ---"
        Applications: "erts"
      OTP-17700:
        release_note: "Fix bug in persistent_term when a key-value pair contains a magic reference that is referred more than once. Magic references are NIF resources or returned from BIFs like ets:new, atomics:new. The bug could cause the memory of the referred resource to be prematurely deallocated.\n\nThe bug also apply to magic references in message passing on a runtime built with configure option --enable-sharing-preserving.\n\nBug exist for 64-bit since OTP-24.0 and for 32-bit since OTP-20.0.\n\n"
        type: " --- Fixed Bugs and Malfunctions ---"
        Applications: "erts"
        RelatedIds: "GH-5271, PR-5273"
  ssh-4.9.1.4:
    pre: "Note! The ssh-4.9.1.4 application *cannot* be applied independently\n       of other applications on an arbitrary OTP 22 installation.\n\n       On a full OTP 22 installation, also the following runtime\n       dependency has to be satisfied:\n       -- crypto-4.6.4 (first satisfied in OTP 22.2.2)"
    post: "Full runtime dependencies of ssh-4.9.1.4: crypto-4.6.4, erts-9.0,\n kernel-5.3, public_key-1.6.1, stdlib-3.4.1"
    tickets:
      OTP-17707:
        release_note: "The value of the connect_timeout option is now used as default value for the negotiation timeout.\n\n"
        type: " --- Fixed Bugs and Malfunctions ---"
        Applications: "ssh"
        RelatedIds: "ERIERL-706"
Application:
  - erts-10.7.2.14
  - ssh-4.9.1.4
Date: 2021-10-19
GitTag: OTP-22.3.4.22
PatchPackage: OTP 22.3.4.22
Predecessor: OTP 22.3.4.21
Release: 22
Seqnum:
  - ERIERL-706
  - GH-5235
  - GH-5271
System: OTP
TroubleReportId:
  - OTP-17604
  - OTP-17628
  - OTP-17642
  - OTP-17651
  - OTP-17665
  - OTP-17677
  - OTP-17700
  - OTP-17707
---
## OTP-22.3.4.22
